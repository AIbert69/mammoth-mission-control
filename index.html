<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mammoth MD - Mission Control</title>

    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>

    <!-- Recharts Dependencies -->
    <script src="https://unpkg.com/react-is@18/umd/react-is.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <script src="https://unpkg.com/recharts/umd/Recharts.js" crossorigin></script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');

        :root {
            --bg-dark: #060B18;
            --bg-mid: #0A1628;
            --bg-light: #0D1B2A;
            --accent-teal: #00BFA5;
            --accent-purple: #7C4DFF;
            --accent-cyan: #00E5FF;
            --accent-gold: #FFD740;
            --accent-blue: #448AFF;
            --accent-green: #00E676;
            --accent-yellow: #FFEA00;
            --accent-orange: #FF9100;

            --glass-bg: rgba(255, 255, 255, 0.04);
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-blur: blur(20px);

            --text-main: #FFFFFF;
            --text-muted: rgba(255, 255, 255, 0.5);
            --text-sub: rgba(255, 255, 255, 0.35);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: linear-gradient(145deg, var(--bg-dark) 0%, var(--bg-mid) 50%, var(--bg-light) 100%);
            color: var(--text-main);
            font-family: 'JetBrains Mono', 'SF Mono', monospace;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 24px;
            position: relative;
        }

        /* Ambient Background Grid */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: -1;
            pointer-events: none;
        }

        /* Animations */
        @keyframes pulse-dot {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.6;
                box-shadow: 0 0 0 0 rgba(0, 191, 165, 0.7);
            }

            50% {
                transform: scale(1.1);
                opacity: 1;
                box-shadow: 0 0 10px 4px rgba(0, 191, 165, 0)
            }
        }

        @keyframes dashFlow {
            to {
                stroke-dashoffset: -20;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Recharts Tooltip Customization */
        .recharts-tooltip-wrapper {
            outline: none;
        }

        .custom-tooltip {
            background: rgba(10, 22, 40, 0.9) !important;
            backdrop-filter: blur(10px) !important;
            border: 1px solid var(--glass-border) !important;
            border-radius: 8px !important;
            padding: 12px 16px !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
            font-family: 'JetBrains Mono', monospace !important;
        }

        .custom-tooltip-label {
            color: var(--text-muted) !important;
            font-size: 11px !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
            margin-bottom: 8px !important;
        }

        .custom-tooltip-item {
            font-size: 13px !important;
            font-weight: 500 !important;
            padding: 2px 0 !important;
        }

        /* Scrollbars */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const {
            AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer,
            BarChart, Bar, Cell, Legend, PieChart, Pie
        } = window.Recharts;

        // --- DATA MODELS ---

        const RevGrowthData = [
            { name: 'Y1 (2025)', rev: 86.8, ebitda: 15.3, margin: 17.7 },
            { name: 'Y2 (2026)', rev: 245.6, ebitda: 81.9, margin: 33.4 },
            { name: 'Y3 (2027)', rev: 643.6, ebitda: 282.3, margin: 43.9 },
            { name: 'Y4 (2028)', rev: 1112.4, ebitda: 562.0, margin: 50.5 },
            { name: 'Y5 (2029)', rev: 1679.3, ebitda: 906.3, margin: 54.0 },
        ];

        const SegmentData = [
            { name: 'Y1', b2b: 43.4, flexConsumer: 34.6, lab: 8.8 },
            { name: 'Y3', b2b: 272.2, flexConsumer: 163.9, lab: 207.5 },
            { name: 'Y5', b2b: 543.4, flexConsumer: 364.3, lab: 771.6 },
        ];

        const EntityData = [
            { name: 'Mammoth MD', type: 'Holding Co.', status: 'Active', profit: '—', color: 'var(--accent-green)', notes: 'Parent entity' },
            { name: 'Talar Medical', type: 'GPO/B2B', status: 'Active', profit: 'Varies', color: 'var(--accent-green)', notes: '$32M rev, 4,700 offices' },
            { name: 'Premier Rx', type: 'Pharma Dist.', status: 'Active', profit: '—', color: 'var(--accent-green)', notes: 'VAWD accredited' },
            { name: 'Peplogix/PeptideIQ', type: 'Peptide Platform', status: 'Building', profit: '$900K → $3M', color: 'var(--accent-yellow)', notes: 'CRO + SaaS model' },
            { name: 'Mammoth Labs', type: 'Lab Services', status: 'Active', profit: '$800K–$1.2M', color: 'var(--accent-green)', notes: 'PCR, testing' },
            { name: 'Sri Lanka NTL', type: 'Govt Lab Contract', status: 'Procurement', profit: '$3.75M', color: 'var(--accent-yellow)', notes: '15-yr, $750M total' },
            { name: 'Gold Path / Julie', type: 'Cancer Dataset IP', status: 'Pre-Funding', profit: 'TBD', color: 'var(--accent-blue)', notes: '$5M funding target' },
            { name: 'Mammoth Shield', type: 'Marine Ops', status: 'Active', profit: '$80K–$100K', color: 'var(--accent-green)', notes: '80% margin' },
            { name: 'Mammoth RX', type: 'Litigation/Recovery', status: 'In Progress', profit: '—', color: 'var(--accent-orange)', notes: 'Software platform' },
            { name: 'RWE', type: 'Data/IP Licensing', status: 'Building', profit: '~$2.5M', color: 'var(--accent-yellow)', notes: 'Compliance moat' },
        ];

        const TargetMapNodes = [
            { id: "peplogix", label: "Peplogix", x: 280, y: 40, profit: "$900K → $3M", margin: "30%+", color: "var(--accent-teal)", r: 40 },
            { id: "rwe", label: "RWE / Data", x: 80, y: 120, profit: "~$2.5M", margin: "High", color: "var(--accent-purple)", r: 35 },
            { id: "sri_lanka", label: "Sri Lanka NTL", x: 280, y: 180, profit: "$3.75M", margin: "25–30%", color: "var(--accent-teal)", r: 42 },
            { id: "lab", label: "Mammoth Labs", x: 120, y: 280, profit: "$800K–$1.2M", margin: "High", color: "var(--accent-cyan)", r: 32 },
            { id: "goldpath", label: "Gold Path", x: 400, y: 320, profit: "TBD", margin: "Software", color: "var(--accent-gold)", r: 30 },
            { id: "shield", label: "Shield", x: 280, y: 420, profit: "$80K–$100K", margin: "80%", color: "var(--accent-blue)", r: 28 },
        ];

        const TargetMapEdges = [
            { from: "peplogix", to: "rwe", label: "IP/Compliance" },
            { from: "peplogix", to: "sri_lanka", label: "$3.19M @ 85%" },
            { from: "sri_lanka", to: "lab", label: "Lab Operations" },
            { from: "rwe", to: "lab", label: "Data Pipeline" },
            { from: "lab", to: "goldpath", label: "Software Deploy" },
            { from: "lab", to: "shield", label: "" },
        ];


        // --- UI COMPONENTS ---

        const GlassCard = ({ children, style, className = "", delay = 0, noPadding = false }) => {
            const [hovered, setHovered] = useState(false);
            return (
                <div
                    onMouseEnter={() => setHovered(true)}
                    onMouseLeave={() => setHovered(false)}
                    className={className}
                    style={{
                        background: "var(--glass-bg)",
                        backdropFilter: "var(--glass-blur)",
                        WebkitBackdropFilter: "var(--glass-blur)",
                        border: "1px solid var(--glass-border)",
                        borderRadius: "16px",
                        padding: noPadding ? "0" : "20px",
                        boxShadow: hovered ? "0 8px 32px rgba(0,0,0,0.4)" : "0 4px 16px rgba(0,0,0,0.2)",
                        transform: hovered ? "translateY(-2px)" : "translateY(0)",
                        transition: "all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)",
                        animation: `fadeInUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) ${delay}s both`,
                        display: "flex",
                        flexDirection: "column",
                        height: "100%",
                        position: "relative",
                        overflow: "hidden",
                        ...style
                    }}
                >
                    {children}
                </div>
            );
        };

        const Label = ({ children, color = "var(--text-sub)", style }) => (
            <div style={{
                fontSize: "10px",
                letterSpacing: "2px",
                textTransform: "uppercase",
                color,
                fontWeight: 600,
                marginBottom: "8px",
                ...style
            }}>
                {children}
            </div>
        );

        const Value = ({ children, color = "var(--text-main)", size = "24px", style }) => (
            <div style={{
                fontSize: size,
                fontWeight: 600,
                color,
                letterSpacing: "-0.5px",
                ...style
            }}>
                {children}
            </div>
        );

        // --- SECTIONS ---

        const Header = () => {
            const [timeStr, setTimeStr] = useState("");

            useEffect(() => {
                const update = () => {
                    const now = new Date();
                    setTimeStr(now.toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' }) + " UTC" + (now.getTimezoneOffset() / -60 >= 0 ? "+" : "") + now.getTimezoneOffset() / -60);
                };
                update();
                const interval = setInterval(update, 1000);
                return () => clearInterval(interval);
            }, []);

            const todayStr = new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }).toUpperCase();

            return (
                <div style={{ display: "flex", justifyContent: "space-between", alignItems: "flex-end", marginBottom: "32px", animation: "fadeInUp 0.6s both" }}>
                    <div style={{ display: "flex", alignItems: "center", gap: "32px" }}>
                        <img
                            src="mammoth_logo.png"
                            alt="Mammoth Logo"
                            style={{ height: "80px", objectFit: "contain", filter: "drop-shadow(0 0 16px rgba(255,255,255,0.15))" }}
                            onError={(e) => e.target.style.display = 'none'}
                        />
                        <div>
                            <div style={{ display: "flex", alignItems: "center", gap: 12, marginBottom: 8 }}>
                                <div style={{ display: "flex", alignItems: "center", justifyContent: "center", width: 12, height: 12, position: "relative" }}>
                                    <div style={{ position: "absolute", width: "100%", height: "100%", borderRadius: "50%", background: "var(--accent-teal)", animation: "pulse-dot 2s infinite" }} />
                                </div>
                                <Label style={{ margin: 0, letterSpacing: "4px" }}>Mammoth MD — Mission Control</Label>
                            </div>
                            <h1 style={{ fontSize: "28px", fontWeight: 300, margin: "0 0 6px 0", letterSpacing: "-0.5px" }}>
                                Portfolio Command Center
                            </h1>
                            <div style={{ fontSize: "13px", color: "var(--text-muted)" }}>
                                10 Portfolio Entities &nbsp;·&nbsp; $86.8M Y1 Revenue &nbsp;·&nbsp; $1.68B Y5 Target
                            </div>
                        </div>
                    </div>

                    <div style={{ display: "flex", flexDirection: "column", alignItems: "flex-end", gap: 6 }}>
                        <div style={{ fontSize: "11px", color: "var(--text-muted)", letterSpacing: 1 }}>
                            {todayStr}
                        </div>
                        <div style={{
                            display: "flex", alignItems: "center", gap: 8,
                            background: "rgba(0, 191, 165, 0.1)", border: "1px solid rgba(0, 191, 165, 0.2)",
                            padding: "4px 12px", borderRadius: "20px"
                        }}>
                            <div style={{ width: 6, height: 6, borderRadius: "50%", background: "var(--accent-teal)", boxShadow: "0 0 8px var(--accent-teal)" }} />
                            <span style={{ fontSize: "11px", color: "var(--accent-teal)", fontWeight: 600, letterSpacing: 1 }}>SYSTEM LIVE</span>
                        </div>
                    </div>
                </div>
            );
        };

        const Section1_KPIs = () => {
            const kpis = [
                { label: "Total Revenue (Y1)", val: "$86.8M", sub: "FY 2025 Projected", color: "var(--accent-teal)" },
                { label: "Gross Margin", val: "29%", sub: "Target: 54% by Y5", color: "var(--text-main)" },
                { label: "EBITDA (Y1)", val: "$15.3M", sub: "17.7% Margin", color: "var(--accent-purple)" },
                { label: "Y5 Revenue Target", val: "$1.68B", sub: "5-Year Trajectory", color: "var(--accent-teal)" },
                { label: "Y5 EBITDA", val: "$906M", sub: "54% Margin", color: "var(--text-main)" },
                { label: "Portfolio Entities", val: "10", sub: "Active Holdings", color: "var(--accent-cyan)" },
            ];

            return (
                <div style={{ display: "grid", gridTemplateColumns: "repeat(6, 1fr)", gap: "16px", marginBottom: "20px" }}>
                    {kpis.map((kpi, i) => (
                        <GlassCard key={i} delay={0.1 + i * 0.05} style={{ padding: "16px 20px" }}>
                            <Label>{kpi.label}</Label>
                            <Value color={kpi.color} style={{ margin: "4px 0 8px 0" }}>{kpi.val}</Value>
                            <div style={{ fontSize: "11px", color: "var(--text-muted)" }}>{kpi.sub}</div>
                        </GlassCard>
                    ))}
                </div>
            );
        };

        const CustomTooltip = ({ active, payload, label }) => {
            if (active && payload && payload.length) {
                return (
                    <div className="custom-tooltip">
                        <p className="custom-tooltip-label">{label}</p>
                        {payload.map((entry, index) => (
                            <p key={`item-${index}`} className="custom-tooltip-item" style={{ color: entry.color }}>
                                {entry.name}: {entry.name.includes('Margin') ? `${entry.value}%` : `$${entry.value}M`}
                            </p>
                        ))}
                    </div>
                );
            }
            return null;
        };

        const Section2_Trajectory = () => (
            <GlassCard delay={0.4} style={{ gridArea: "chartArea" }}>
                <Label>Consolidated Trajectory (Y1 - Y5)</Label>
                <div style={{ flex: 1, minHeight: 0, marginTop: "16px" }}>
                    <ResponsiveContainer width="100%" height="100%">
                        <AreaChart data={RevGrowthData} margin={{ top: 10, right: 10, left: -10, bottom: 0 }}>
                            <defs>
                                <linearGradient id="colorRev" x1="0" y1="0" x2="0" y2="1">
                                    <stop offset="5%" stopColor="var(--accent-teal)" stopOpacity={0.4} />
                                    <stop offset="95%" stopColor="var(--accent-teal)" stopOpacity={0} />
                                </linearGradient>
                                <linearGradient id="colorEbitda" x1="0" y1="0" x2="0" y2="1">
                                    <stop offset="5%" stopColor="var(--accent-purple)" stopOpacity={0.4} />
                                    <stop offset="95%" stopColor="var(--accent-purple)" stopOpacity={0} />
                                </linearGradient>
                            </defs>
                            <CartesianGrid strokeDasharray="3 3" stroke="rgba(255,255,255,0.05)" vertical={false} />
                            <XAxis dataKey="name" stroke="none" tick={{ fill: 'var(--text-muted)', fontSize: 11, fontFamily: 'monospace' }} dy={10} />
                            <YAxis stroke="none" tick={{ fill: 'var(--text-muted)', fontSize: 11, fontFamily: 'monospace' }} tickFormatter={(val) => `$${val}`} />
                            <Tooltip content={<CustomTooltip />} />
                            <Legend iconType="circle" wrapperStyle={{ fontSize: '11px', color: 'var(--text-muted)', paddingTop: '10px' }} />
                            <Area type="monotone" name="Revenue" dataKey="rev" stroke="var(--accent-teal)" strokeWidth={3} fillOpacity={1} fill="url(#colorRev)" />
                            <Area type="monotone" name="EBITDA" dataKey="ebitda" stroke="var(--accent-purple)" strokeWidth={3} fillOpacity={1} fill="url(#colorEbitda)" />
                        </AreaChart>
                    </ResponsiveContainer>
                </div>
            </GlassCard>
        );

        const DiagramEdge = ({ from, to, label }) => {
            const dx = to.x - from.x;
            const dy = to.y - from.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            const nx = dx / dist;
            const ny = dy / dist;

            const padFrom = from.r + 4;
            const padTo = to.r + 4;

            const startX = from.x + nx * padFrom;
            const startY = from.y + ny * padFrom;
            const endX = to.x - nx * padTo;
            const endY = to.y - ny * padTo;

            const midX = (startX + endX) / 2;
            const midY = (startY + endY) / 2;

            const path = `M ${startX} ${startY} L ${endX} ${endY}`;

            return (
                <g>
                    <path d={path} fill="none" stroke="rgba(255,255,255,0.15)" strokeWidth="2" strokeDasharray="4 4" style={{ animation: `dashFlow 1.5s linear infinite` }} />
                    {label && (
                        <g style={{ transform: `translate(${midX}px, ${midY}px)` }}>
                            <rect x={-(label.length * 3.5)} y="-10" width={label.length * 7} height="20" rx="10" fill="var(--bg-mid)" stroke="var(--glass-border)" />
                            <text x="0" y="3" textAnchor="middle" fill="var(--text-muted)" fontSize="9" fontFamily="'JetBrains Mono', monospace">{label}</text>
                        </g>
                    )}
                </g>
            );
        }

        const Section3_Map = () => {
            const [selected, setSelected] = useState(null);
            const selNode = TargetMapNodes.find(n => n.id === selected);

            return (
                <GlassCard delay={0.5} style={{ gridArea: "mapArea", padding: "20px 0 0 0" }}>
                    <div style={{ padding: "0 20px" }}>
                        <Label>Entity Profit Map</Label>
                    </div>

                    <div style={{ flex: 1, position: "relative", marginTop: "10px" }}>
                        <svg viewBox="0 0 500 480" width="100%" height="100%" preserveAspectRatio="xMidYMid meet">

                            {TargetMapEdges.map(edge => {
                                const f = TargetMapNodes.find(n => n.id === edge.from);
                                const t = TargetMapNodes.find(n => n.id === edge.to);
                                return <DiagramEdge key={`${f.id}-${t.id}`} from={f} to={t} label={edge.label} />
                            })}

                            {TargetMapNodes.map(node => {
                                const isSel = selected === node.id;
                                return (
                                    <g key={node.id} onClick={() => setSelected(node.id)} style={{ cursor: "pointer", transition: "all 0.3s ease" }} transform={isSel ? `translate(0, -2)` : ""}>
                                        {/* Glow */}
                                        <circle cx={node.x} cy={node.y} r={node.r} fill="none" stroke={node.color} strokeWidth={isSel ? 3 : 0} opacity={0.3} style={{ filter: `drop-shadow(0 0 ${isSel ? 20 : 10}px ${node.color})` }} />
                                        <circle cx={node.x} cy={node.y} r={node.r} fill="rgba(255,255,255,0.03)" stroke={node.color} strokeWidth="1.5" strokeOpacity={isSel ? 1 : 0.5} style={{ backdropFilter: "blur(4px)" }} />
                                        <text x={node.x} y={node.y - 4} textAnchor="middle" fill="var(--text-main)" fontSize={node.r > 35 ? "13" : "11"} fontWeight="600">{node.label}</text>
                                        <text x={node.x} y={node.y + 12} textAnchor="middle" fill={node.color} fontSize="9" fontWeight="500">{node.profit}</text>
                                    </g>
                                );
                            })}
                        </svg>

                        {/* Flyout panel overlay if selected */}
                        {selNode && (
                            <div style={{
                                position: "absolute", bottom: "16px", left: "16px", right: "16px",
                                background: "rgba(10, 20, 35, 0.95)", border: `1px solid ${selNode.color}60`,
                                borderRadius: "12px", padding: "16px", backdropFilter: "blur(12px)",
                                animation: "fadeInUp 0.3s ease", boxShadow: `0 10px 30px rgba(0,0,0,0.6), inset 0 0 20px ${selNode.color}15`,
                                display: "flex", justifyContent: "space-between", alignItems: "center"
                            }}>
                                <div>
                                    <div style={{ display: "flex", alignItems: "center", gap: 8, marginBottom: 8 }}>
                                        <div style={{ width: 8, height: 8, borderRadius: "50%", background: selNode.color }} />
                                        <span style={{ fontSize: "14px", fontWeight: 600, color: "white" }}>{selNode.label}</span>
                                    </div>
                                    <div style={{ fontSize: "11px", color: "var(--text-muted)", maxWidth: "250px", lineHeight: 1.4 }}>
                                        Margin: {selNode.margin}
                                    </div>
                                </div>
                                <div style={{ textAlign: "right" }}>
                                    <div style={{ fontSize: "10px", color: "var(--text-sub)", letterSpacing: 1, textTransform: "uppercase", marginBottom: 4 }}>Target Profit</div>
                                    <div style={{ color: selNode.color, fontSize: "18px", fontWeight: 600 }}>{selNode.profit}</div>
                                </div>
                            </div>
                        )}
                    </div>
                </GlassCard>
            );
        }

        const Section4_Breakdown = () => (
            <GlassCard delay={0.6} style={{ gridArea: "barArea" }}>
                <Label>Segment Composition (Y1 - Y5)</Label>
                <div style={{ flex: 1, minHeight: 0, marginTop: "16px" }}>
                    <ResponsiveContainer width="100%" height="100%">
                        <BarChart data={SegmentData} margin={{ top: 0, right: 0, left: -20, bottom: 0 }} barSize={32}>
                            <CartesianGrid strokeDasharray="3 3" stroke="rgba(255,255,255,0.05)" vertical={false} />
                            <XAxis dataKey="name" stroke="none" tick={{ fill: 'var(--text-muted)', fontSize: 11 }} dy={10} />
                            <YAxis stroke="none" tick={{ fill: 'var(--text-muted)', fontSize: 11 }} tickFormatter={(val) => `$${val}`} />
                            <Tooltip content={<CustomTooltip />} cursor={{ fill: 'rgba(255,255,255,0.02)' }} />
                            <Legend iconType="circle" wrapperStyle={{ fontSize: '11px', color: 'var(--text-muted)', paddingTop: '10px' }} />
                            <Bar dataKey="lab" name="Lab Services" stackId="a" fill="var(--accent-purple)" radius={[0, 0, 4, 4]} />
                            <Bar dataKey="b2b" name="B2B (Talar)" stackId="a" fill="var(--accent-teal)" />
                            <Bar dataKey="flexConsumer" name="Consumer" stackId="a" fill="var(--accent-cyan)" radius={[4, 4, 0, 0]} />
                        </BarChart>
                    </ResponsiveContainer>
                </div>
            </GlassCard>
        );

        const Section5_Health = () => (
            <GlassCard delay={0.7} style={{ gridArea: "gridArea", padding: 0 }}>
                <div style={{ padding: "20px 20px 10px 20px" }}>
                    <Label>Entity Health Matrix</Label>
                </div>
                <div style={{ flex: 1, overflowY: "auto", padding: "0 10px 20px 10px" }}>
                    <table style={{ width: "100%", borderCollapse: "collapse", textAlign: "left" }}>
                        <thead>
                            <tr>
                                <th style={{ padding: "10px", fontSize: "10px", color: "var(--text-sub)", fontWeight: 500, letterSpacing: 1, textTransform: "uppercase", borderBottom: "1px solid var(--glass-border)" }}>Entity</th>
                                <th style={{ padding: "10px", fontSize: "10px", color: "var(--text-sub)", fontWeight: 500, letterSpacing: 1, textTransform: "uppercase", borderBottom: "1px solid var(--glass-border)" }}>Type</th>
                                <th style={{ padding: "10px", fontSize: "10px", color: "var(--text-sub)", fontWeight: 500, letterSpacing: 1, textTransform: "uppercase", borderBottom: "1px solid var(--glass-border)" }}>Status</th>
                                <th style={{ padding: "10px", fontSize: "10px", color: "var(--text-sub)", fontWeight: 500, letterSpacing: 1, textTransform: "uppercase", borderBottom: "1px solid var(--glass-border)" }}>Mo. Profit</th>
                                <th style={{ padding: "10px", fontSize: "10px", color: "var(--text-sub)", fontWeight: 500, letterSpacing: 1, textTransform: "uppercase", borderBottom: "1px solid var(--glass-border)", width: "120px" }}>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            {EntityData.map((row, i) => (
                                <tr key={i} style={{ borderBottom: "1px solid rgba(255,255,255,0.02)", transition: "background 0.2s" }} onMouseEnter={(e) => e.currentTarget.style.backgroundColor = 'rgba(255,255,255,0.03)'} onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}>
                                    <td style={{ padding: "12px 10px", fontSize: "12px", fontWeight: 500 }}>{row.name}</td>
                                    <td style={{ padding: "12px 10px", fontSize: "11px", color: "var(--text-muted)" }}>{row.type}</td>
                                    <td style={{ padding: "12px 10px", fontSize: "11px" }}>
                                        <div style={{ display: "flex", alignItems: "center", gap: 6 }}>
                                            <div style={{ width: 6, height: 6, borderRadius: "50%", background: row.color, boxShadow: `0 0 6px ${row.color}` }} />
                                            <span style={{ color: "var(--text-muted)" }}>{row.status}</span>
                                        </div>
                                    </td>
                                    <td style={{ padding: "12px 10px", fontSize: "12px", fontFamily: "monospace", color: "white" }}>{row.profit}</td>
                                    <td style={{ padding: "12px 10px", fontSize: "10px", color: "var(--text-muted)", whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis", maxWidth: "120px" }}>{row.notes}</td>
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
            </GlassCard>
        );

        const Section6_Cap = () => (
            <div style={{ gridArea: "capArea", display: "flex", flexDirection: "column", gap: "16px" }}>

                {/* Cap Table */}
                <GlassCard delay={0.8} style={{ flex: 1, padding: "20px" }}>
                    <Label>Mammoth MD Ownership</Label>
                    <div style={{ height: "12px", width: "100%", borderRadius: "6px", display: "flex", overflow: "hidden", margin: "16px 0", border: '1px solid rgba(255,255,255,0.1)' }}>
                        <div style={{ width: "50%", background: "var(--accent-teal)" }} title="Mammoth Rx (50%)" />
                        <div style={{ width: "20%", background: "var(--accent-cyan)" }} title="Investor (20%)" />
                        <div style={{ width: "20%", background: "var(--accent-purple)" }} title="Principals (20%)" />
                        <div style={{ width: "10%", background: "var(--accent-blue)" }} title="Encompass (10%)" />
                    </div>
                    <div style={{ display: "flex", flexWrap: "wrap", gap: "12px 20px" }}>
                        {[
                            { n: "Mammoth Rx", v: "50%", c: "var(--accent-teal)" },
                            { n: "Investor", v: "20%", c: "var(--accent-cyan)" },
                            { n: "Principals", v: "20%", c: "var(--accent-purple)" },
                            { n: "Encompass", v: "10%", c: "var(--accent-blue)" },
                        ].map((o, i) => (
                            <div key={i} style={{ display: "flex", alignItems: "center", gap: 6 }}>
                                <div style={{ width: 6, height: 6, borderRadius: "50%", background: o.c }} />
                                <span style={{ fontSize: "11px", color: "var(--text-muted)" }}>{o.n}</span>
                                <span style={{ fontSize: "11px", fontWeight: 600 }}>{o.v}</span>
                            </div>
                        ))}
                    </div>
                </GlassCard>

                {/* Exit Metrics */}
                <GlassCard delay={0.9} style={{ flex: 1.5, padding: "20px" }}>
                    <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 12 }}>
                        <Label style={{ margin: 0 }}>Target Exit Mechanics</Label>
                        <div style={{ fontSize: "10px", color: "var(--accent-teal)", background: "rgba(0,191,165,0.1)", padding: "2px 8px", borderRadius: "10px", border: "1px solid rgba(0,191,165,0.2)" }}>YEAR 3 (2027)</div>
                    </div>

                    <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: "16px", marginBottom: "16px" }}>
                        <div>
                            <div style={{ fontSize: "10px", color: "var(--text-sub)", textTransform: "uppercase", marginBottom: "4px" }}>EV Target</div>
                            <Value size="18px">&gt;$200M</Value>
                        </div>
                        <div>
                            <div style={{ fontSize: "10px", color: "var(--text-sub)", textTransform: "uppercase", marginBottom: "4px" }}>EBITDA at Exit</div>
                            <Value size="18px">$282M</Value>
                        </div>
                    </div>

                    <div style={{ background: "rgba(0,0,0,0.2)", borderRadius: "8px", padding: "16px", border: "1px solid rgba(255,255,255,0.05)" }}>
                        <div style={{ display: "flex", justifyContent: "space-between", alignItems: "flex-end" }}>
                            <div>
                                <div style={{ fontSize: "10px", color: "var(--text-sub)", textTransform: "uppercase", marginBottom: "4px" }}>Investor IRR</div>
                                <Value size="24px" color="var(--accent-teal)" style={{ textShadow: "0 0 16px rgba(0,191,165,0.4)" }}>155%</Value>
                            </div>
                            <div style={{ textAlign: "right" }}>
                                <div style={{ fontSize: "10px", color: "var(--text-sub)", textTransform: "uppercase", marginBottom: "4px" }}>MoM</div>
                                <Value size="20px">19.72x</Value>
                            </div>
                        </div>
                    </div>
                </GlassCard>
            </div>
        );


        // --- MAIN APP ---

        const App = () => {
            return (
                <div style={{ maxWidth: "1600px", margin: "0 auto", display: "flex", flexDirection: "column", height: "calc(100vh - 48px)" }}>
                    <Header />
                    <Section1_KPIs />

                    <div style={{
                        flex: 1,
                        display: "grid",
                        gap: "16px",
                        gridTemplateColumns: "3fr 1.5fr 2.5fr",
                        gridTemplateRows: "1.2fr 1fr",
                        gridTemplateAreas: `
              "chartArea chartArea mapArea"
              "barArea gridArea capArea"
            `,
                        minHeight: 0
                    }}>
                        <Section2_Trajectory />
                        <Section3_Map />
                        <Section4_Breakdown />
                        <Section5_Health />
                        <Section6_Cap />
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>